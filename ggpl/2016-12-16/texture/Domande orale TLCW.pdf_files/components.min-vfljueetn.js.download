define(["external/react","external/react-dom"],function(e,t){return function(e){function t(o){if(n[o])return n[o].exports;var r=n[o]={exports:{},id:o,loaded:!1};return e[o].call(r.exports,r,r.exports,t),r.loaded=!0,r.exports}var n={};return t.m=e,t.c=n,t.p="",t(0)}([function(e,t,n){var o,r;o=[n,t,n(1),n(6),n(8)],r=function(e,t,n,o,r){"use strict";function i(e){for(var n in e)t.hasOwnProperty(n)||(t[n]=e[n])}i(n),i(o),i(r)}.apply(t,o),!(void 0!==r&&(e.exports=r))},function(e,t,n){var o,r,i=this&&this.__extends||function(e,t){function n(){this.constructor=e}for(var o in t)t.hasOwnProperty(o)&&(e[o]=t[o]);e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)},s=this&&this.__assign||Object.assign||function(e){for(var t,n=1,o=arguments.length;o>n;n++){t=arguments[n];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])}return e};o=[n,t,n(2),n(3),n(4),n(5)],r=function(e,t,n,o,r,a){"use strict";function c(e){for(var n in e)t.hasOwnProperty(n)||(t[n]=e[n])}c(a);var u=function(e){function t(){var t=this;e.apply(this,arguments),this.handleClick=function(e){return t.props.onClick?t.props.onClick(e):void 0}}return i(t,e),t.prototype.render=function(){var e=this.props,t=e.styleless,i=e.className,a=e.href,c=e.disabled,u=e.children,p=e.primary,h=e.secondary,l=e.large,d=r.default(this.props,"className","href","disabled","primary","secondary","large"),f=p||!h,m="";m=t?n(i||"","mc-button-styleless"):n(i||"","mc-button",{"mc-button-primary":f,"mc-button-secondary":h,"mc-button-large":f&&l,"mc-button-disabled":c});var y=o.createElement("span",{className:"mc-button-content"},u);return a?(c&&(d.tabIndex=-1),o.createElement("a",s({className:m,href:a,onClick:this.handleClick},d),y)):o.createElement("button",s({className:m,disabled:c,onClick:this.handleClick},d),y)},t.displayName="Button",t}(o.Component);t.Button=u}.apply(t,o),!(void 0!==r&&(e.exports=r))},function(e,t,n){var o,r;!function(){"use strict";function n(){for(var e=[],t=0;t<arguments.length;t++){var o=arguments[t];if(o){var r=typeof o;if("string"===r||"number"===r)e.push(o);else if(Array.isArray(o))e.push(n.apply(null,o));else if("object"===r)for(var s in o)i.call(o,s)&&o[s]&&e.push(s)}}return e.join(" ")}var i={}.hasOwnProperty;"undefined"!=typeof e&&e.exports?e.exports=n:(o=[],r=function(){return n}.apply(t,o),!(void 0!==r&&(e.exports=r)))}()},function(t,n){t.exports=e},function(e,t,n){var o,r;o=[n,t],r=function(e,t){"use strict";function n(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];for(var o={},r=0,i=Object.keys(e);r<i.length;r++){var s=i[r];-1===t.indexOf(s)&&(o[s]=e[s])}return o}Object.defineProperty(t,"__esModule",{value:!0}),t.default=n}.apply(t,o),!(void 0!==r&&(e.exports=r))},function(e,t){},function(e,t,n){var o,r,i=this&&this.__extends||function(e,t){function n(){this.constructor=e}for(var o in t)t.hasOwnProperty(o)&&(e[o]=t[o]);e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)},s=this&&this.__assign||Object.assign||function(e){for(var t,n=1,o=arguments.length;o>n;n++){t=arguments[n];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])}return e};o=[n,t,n(2),n(3),n(1),n(7)],r=function(e,t,n,o,r,a){"use strict";function c(e){for(var n in e)t.hasOwnProperty(n)||(t[n]=e[n])}c(a);var u=function(e){function t(){e.apply(this,arguments)}return i(t,e),t.prototype.render=function(){var e=this.props,t=e.children,i=e.className,a=n(i||"","mc-dropdown-button");return o.createElement(r.Button,s({secondary:!0},this.props,{className:a}),o.createElement("span",{className:"mc-dropdown-button-content"},t))},t.displayName="DropdownButton",t}(o.Component);t.DropdownButton=u}.apply(t,o),!(void 0!==r&&(e.exports=r))},function(e,t){},function(e,t,n){var o,r,i=this&&this.__extends||function(e,t){function n(){this.constructor=e}for(var o in t)t.hasOwnProperty(o)&&(e[o]=t[o]);e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)},s=this&&this.__assign||Object.assign||function(e){for(var t,n=1,o=arguments.length;o>n;n++){t=arguments[n];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])}return e};o=[n,t,n(2),n(3),n(9),n(1),n(6),n(20)],r=function(e,t,n,o,r,a,c,u){"use strict";function p(e){for(var n in e)t.hasOwnProperty(n)||(t[n]=e[n])}p(u);var h=function(e){function t(){var t=this;e.apply(this,arguments),this.handleSelection=function(e){t.props.onSelection&&t.props.onSelection(e)}}return i(t,e),t.prototype.render=function(){return o.createElement(r.Wrapper,{className:"mc-dropdown-menu",onSelection:this.handleSelection},this.props.children)},t.displayName="DropdownMenu",t}(o.Component);t.DropdownMenu=h;var l=function(e){function t(){e.apply(this,arguments)}return i(t,e),t.prototype.render=function(){var e=this.props.children,t=o.createElement(c.DropdownButton,s({className:"mc-dropdown-menu-button"},this.props));return o.createElement(r.Button,{component:t},e)},t.displayName="DropdownMenuButton",t}(o.Component);t.DropdownMenuButton=l;var d=function(e){function t(){e.apply(this,arguments)}return i(t,e),t.prototype.render=function(){return o.createElement(r.Menu,{tag:"ul",className:"mc-menu"},this.props.children)},t.displayName="Menu",t}(o.Component);t.Menu=d;var f=function(e){function t(){e.apply(this,arguments)}return i(t,e),t.prototype.render=function(){var e=this.props,t=e.value,i=e.selected,s=n("mc-menu-item",{"mc-menu-item-selected":i});return o.createElement(r.MenuItem,{tag:"li",className:s,value:t},o.createElement(a.Button,{styleless:!0,className:"mc-menu-item-button"},this.props.children))},t.displayName="MenuItem",t}(o.Component);t.MenuItem=f}.apply(t,o),!(void 0!==r&&(e.exports=r))},function(e,t,n){var o=n(10);e.exports={Wrapper:n(11),Button:n(16),Menu:n(17),MenuItem:n(19),openMenu:o.openMenu,closeMenu:o.closeMenu}},function(e,t){function n(e,t){s[e]=t}function o(e){delete s[e]}function r(e,t){var n=s[e];if(!n)throw new Error("Cannot open "+a);n.openMenu(t)}function i(e,t){var n=s[e];if(!n)throw new Error("Cannot close "+a);n.closeMenu(t)}var s={},a="a menu outside a mounted Wrapper with an id, or a menu that does not exist";e.exports={registerManager:n,unregisterManager:o,openMenu:r,closeMenu:i}},function(e,t,n){var o=n(3),r=n(12),i=n(15),s={children:o.PropTypes.node.isRequired,onSelection:o.PropTypes.func.isRequired,closeOnSelection:o.PropTypes.bool,tag:o.PropTypes.string};e.exports=o.createClass({displayName:"AriaMenuButton-Wrapper",propTypes:s,getDefaultProps:function(){return{tag:"div"}},childContextTypes:{ambManager:o.PropTypes.object},getChildContext:function(){return{ambManager:this.manager}},componentWillMount:function(){this.manager=r({onSelection:this.props.onSelection,closeOnSelection:this.props.closeOnSelection,id:this.props.id})},render:function(){var e=this.props,t={};return i(t,e,s),o.createElement(e.tag,t,e.children)}})},function(e,t,n){function o(){var e=this;e.blurTimer=setTimeout(function(){var t=s.findDOMNode(e.button),n=s.findDOMNode(e.menu),o=t.ownerDocument.activeElement;t&&o===t||n&&n.contains(o)||e.isOpen&&e.closeMenu({focusButton:!1})},0)}function r(e,t){this.options.closeOnSelection&&this.closeMenu({focusButton:!0}),this.options.onSelection(e,t)}function i(e){this.isOpen&&"Escape"===e.key&&(e.preventDefault(),this.closeMenu({focusButton:!0}))}var s=n(13),a=n(14),c=n(10),u={wrap:!0,stringSearch:!0},p={init:function(e){this.options=e||{},"undefined"==typeof this.options.closeOnSelection&&(this.options.closeOnSelection=!0),this.options.id&&c.registerManager(this.options.id,this),this.handleBlur=o.bind(this),this.handleSelection=r.bind(this),this.handleMenuKey=i.bind(this),this.focusGroup=a(u),this.button=null,this.menu=null,this.isOpen=!1},focusItem:function(e){this.focusGroup.focusNodeAtIndex(e)},addItem:function(e){this.focusGroup.addMember(e)},clearItems:function(){this.focusGroup.clearMembers()},handleButtonNonArrowKey:function(e){this.focusGroup._handleNonArrowKey(e)},destroy:function(){this.button=null,this.menu=null,this.focusGroup.deactivate(),clearTimeout(this.blurTimer),clearTimeout(this.moveFocusTimer)},update:function(){this.menu.setState({isOpen:this.isOpen}),this.button.setState({menuOpen:this.isOpen})},openMenu:function(e){if(!this.isOpen&&(e=e||{},this.isOpen=!0,this.update(),this.focusGroup.activate(),e.focusMenu)){var t=this;this.moveFocusTimer=setTimeout(function(){t.focusItem(0)},0)}},closeMenu:function(e){this.isOpen&&(e=e||{},this.isOpen=!1,this.update(),e.focusButton&&s.findDOMNode(this.button).focus())},toggleMenu:function(){this.isOpen?this.closeMenu():this.openMenu()}};e.exports=function(e){var t=Object.create(p);return t.init(e),t}},function(e,n){e.exports=t},function(e,t){function n(e){e=e||{},this._settings={forwardArrows:e.forwardArrows||["down"],backArrows:e.backArrows||["up"],wrap:e.wrap,stringSearch:e.stringSearch,stringSearchDelay:800},this._searchString="",this._members=[],e.members&&this.setMembers(e.members),this._boundHandleKeydownEvent=this._handleKeydownEvent.bind(this)}function o(e){return"ArrowUp"===e.key||38===e.keyCode?"up":"ArrowDown"===e.key||40===e.keyCode?"down":"ArrowLeft"===e.key||37===e.keyCode?"left":"ArrowRight"===e.key||39===e.keyCode?"right":null}function r(e){return e>=65&&90>=e}function i(e){e&&e.focus&&(e.focus(),"input"===e.tagName.toLowerCase()&&e.select())}n.prototype.activate=function(){return document.addEventListener("keydown",this._boundHandleKeydownEvent,!0),this},n.prototype.deactivate=function(){return document.removeEventListener("keydown",this._boundHandleKeydownEvent,!0),this._clearSearchStringRefreshTimer(),this},n.prototype._handleKeydownEvent=function(e){var t=this._getActiveElementIndex();if(-1!==t){var n=o(e);return n?-1!==this._settings.forwardArrows.indexOf(n)?(e.preventDefault(),void this.moveFocusForward()):-1!==this._settings.backArrows.indexOf(n)?(e.preventDefault(),void this.moveFocusBack()):void 0:void this._handleNonArrowKey(e)}},n.prototype.moveFocusForward=function(){var e,t=this._getActiveElementIndex();return e=t<this._members.length-1?t+1:this._settings.wrap?0:t,this.focusNodeAtIndex(e),e},n.prototype.moveFocusBack=function(){var e,t=this._getActiveElementIndex();return e=t>0?t-1:this._settings.wrap?this._members.length-1:t,this.focusNodeAtIndex(e),e},n.prototype._handleNonArrowKey=function(e){if(this._settings.stringSearch){if(""!==this._searchString&&(" "===e.key||32===e.keyCode))return e.preventDefault(),-1;if(!r(e.keyCode))return-1;if(e.ctrlKey||e.metaKey||e.altKey)return-1;e.preventDefault(),this._addToSearchString(String.fromCharCode(e.keyCode)),this._runStringSearch()}},n.prototype._clearSearchString=function(){this._searchString=""},n.prototype._addToSearchString=function(e){this._searchString+=e.toLowerCase()},n.prototype._startSearchStringRefreshTimer=function(){var e=this;this._clearSearchStringRefreshTimer(),this._stringSearchTimer=setTimeout(function(){e._clearSearchString()},this._settings.stringSearchDelay)},n.prototype._clearSearchStringRefreshTimer=function(){clearTimeout(this._stringSearchTimer)},n.prototype._runStringSearch=function(){this._startSearchStringRefreshTimer(),this.moveFocusByString(this._searchString)},n.prototype.moveFocusByString=function(e){for(var t,n=0,o=this._members.length;o>n;n++)if(t=this._members[n],t.text&&0===t.text.indexOf(e))return i(t.node)},n.prototype._findIndexOfNode=function(e){for(var t=0,n=this._members.length;n>t;t++)if(this._members[t].node===e)return t;return-1},n.prototype._getActiveElementIndex=function(){return this._findIndexOfNode(document.activeElement)},n.prototype.focusNodeAtIndex=function(e){var t=this._members[e];return t&&i(t.node),this},n.prototype.addMember=function(e,t){var n=e.node||e,o=e.text||n.getAttribute("data-focus-group-text")||n.textContent||"";this._checkNode(n);var r=o.replace(/[\W_]/g,"").toLowerCase(),e={node:n,text:r};return null!==t&&void 0!==t?this._members.splice(t,0,e):this._members.push(e),this},n.prototype.removeMember=function(e){var t="number"==typeof e?e:this._findIndexOfNode(e);if(-1!==t)return this._members.splice(t,1),this},n.prototype.clearMembers=function(){return this._members=[],this},n.prototype.setMembers=function(e){this.clearMembers();for(var t=0,n=e.length;n>t;t++)this.addMember(e[t]);return this},n.prototype.getMembers=function(){return this._members},n.prototype._checkNode=function(e){if(!e.nodeType||e.nodeType!==window.Node.ELEMENT_NODE)throw new Error("focus-group: only DOM nodes allowed");return e},e.exports=function(e){return new n(e)}},function(e,t){e.exports=function(e,t,n){for(var o in t)t.hasOwnProperty(o)&&(n[o]||(e[o]=t[o]))}},function(e,t,n){var o=n(3),r=n(15),i={children:o.PropTypes.node.isRequired,disabled:o.PropTypes.bool,tag:o.PropTypes.string,component:o.PropTypes.object};e.exports=o.createClass({displayName:"AriaMenuButton-Button",propTypes:i,contextTypes:{ambManager:o.PropTypes.object.isRequired},getDefaultProps:function(){return{disabled:!1,tag:"span"}},componentWillMount:function(){this.context.ambManager.button=this},componentWillUnmount:function(){this.context.ambManager.destroy()},handleKeyDown:function(e){if(!this.props.disabled){var t=this.context.ambManager;switch(e.key){case"ArrowDown":e.preventDefault(),t.isOpen?t.focusItem(0):t.openMenu({focusMenu:!0});break;case"Enter":case" ":e.preventDefault(),t.toggleMenu();break;case"Escape":t.handleMenuKey(e);break;default:t.handleButtonNonArrowKey(e)}}},handleClick:function(){this.props.disabled||this.context.ambManager.toggleMenu()},render:function(){var e=this.props,t={role:"button",tabIndex:e.disabled?"":"0","aria-haspopup":!0,"aria-expanded":this.context.ambManager.isOpen,"aria-disabled":e.disabled,onKeyDown:this.handleKeyDown,onClick:this.handleClick,onBlur:this.context.ambManager.handleBlur};return r(t,e,i),e.component?o.cloneElement(e.component,t,e.children):o.createElement(e.tag,t,e.children)}})},function(e,t,n){var o=n(3),r=n(13),i=n(18),s=n(15),a={children:o.PropTypes.oneOfType([o.PropTypes.func,o.PropTypes.node]).isRequired,tag:o.PropTypes.string};e.exports=o.createClass({displayName:"AriaMenuButton-Menu",propTypes:a,getDefaultProps:function(){return{tag:"div"}},contextTypes:{ambManager:o.PropTypes.object.isRequired},componentWillMount:function(){this.context.ambManager.menu=this},componentDidUpdate:function(){var e=this.context.ambManager;e.isOpen&&!this.tapListener?this.addTapListener():!e.isOpen&&this.tapListener&&(this.tapListener.remove(),delete this.tapListener),e.isOpen||e.clearItems()},componentWillUnmount:function(){this.tapListener&&this.tapListener.remove(),this.context.ambManager.destroy()},addTapListener:function(){var e=r.findDOMNode(this);if(e){var t=e.ownerDocument;t&&(this.tapListener=i(t.documentElement,this.handleTap))}},handleTap:function(e){r.findDOMNode(this).contains(e.target)||r.findDOMNode(this.context.ambManager.button).contains(e.target)||this.context.ambManager.closeMenu()},render:function(){var e=this.props,t=this.context.ambManager,n=function(){return"function"==typeof e.children?e.children({isOpen:t.isOpen}):t.isOpen?e.children:!1}();if(!n)return!1;var r={onKeyDown:t.handleMenuKey,role:"menu",onBlur:t.handleBlur};return s(r,e,a),o.createElement(e.tag,r,n)}})},function(e,t){e.exports=function(e,t,n){function o(e){f||t(e)}function r(t){f=!0,l||(l=!0,e.addEventListener("touchmove",i,n),e.addEventListener("touchend",s,n),e.addEventListener("touchcancel",a,n),d=!1,p=t.touches[0].clientX,h=t.touches[0].clientY)}function i(e){d||Math.abs(e.touches[0].clientX-p)<=10&&Math.abs(e.touches[0].clientY-h)<=10||(d=!0)}function s(e){l=!1,c(),d||t(e)}function a(){l=!1,d=!1,p=0,h=0}function c(){e.removeEventListener("touchmove",i,n),e.removeEventListener("touchend",s,n),e.removeEventListener("touchcancel",a,n)}function u(){e.removeEventListener("click",o,n),e.removeEventListener("touchstart",r,n),c()}var p=0,h=0,l=!1,d=!1,f=!1;return e.addEventListener("click",o,n),e.addEventListener("touchstart",r,n),{remove:u}}},function(e,t,n){var o=n(3),r=n(15),i={children:o.PropTypes.node.isRequired,tag:o.PropTypes.string,text:o.PropTypes.string,value:o.PropTypes.any};e.exports=o.createClass({displayName:"AriaMenuButton-MenuItem",propTypes:i,getDefaultProps:function(){return{tag:"div"}},contextTypes:{ambManager:o.PropTypes.object.isRequired},componentDidMount:function(){this.context.ambManager.addItem({node:this.node,text:this.props.text})},handleKeyDown:function(e){"Enter"!==e.key&&" "!==e.key||(e.preventDefault(),this.selectItem(e))},selectItem:function(e){var t="undefined"!=typeof this.props.value?this.props.value:this.props.children;this.context.ambManager.handleSelection(t,e)},registerNode:function(e){this.node=e},render:function(){var e=this.props,t={onClick:this.selectItem,onKeyDown:this.handleKeyDown,role:"menuitem",tabIndex:"-1",ref:this.registerNode};return r(t,e,i),o.createElement(e.tag,t,e.children)}})},function(e,t){}])});
//# sourceMappingURL=components.min.js-vflzu6QUB.map